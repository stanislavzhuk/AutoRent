"use strict";(self.webpackChunkauto_rent=self.webpackChunkauto_rent||[]).push([[860],{860:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var a=t(433),r=t(861),s=t(439),c=t(757),i=t.n(c),l=t(791),o=t(243);o.Z.defaults.baseURL="https://6500b83518c34dee0cd555f8.mockapi.io/adverts";var d=function(){var e=(0,r.Z)(i().mark((function e(){var n,t,a,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,o.Z.get("?page=".concat(n,"&limit=8"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(i().mark((function e(n){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/".concat(n));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(e){return e.split(",")[1].trim()},f=function(e){return e.split(",")[2].trim()},m=function(e){return e.toLocaleString("en-US")},h=function(e){return"".concat(e.substring(1),"$")};var v=t.p+"static/media/heart_full.623a3b874365d724c658e79a860ad4a4.svg";var x=t.p+"static/media/heart_empty.ac060e771360fcc26ebb0c86173c8396.svg",_="FavoriteBtn_icon__PxzcW",j=t(184),g=function(e){e.id;var n=e.favs;return(0,j.jsx)("div",{className:_,children:n?(0,j.jsx)("img",{src:v,alt:"in favorites"}):(0,j.jsx)("img",{src:x,alt:"not in favorites"})})},C="AdvertCard_cardItem__pZQbd",b="AdvertCard_imageContainer__Wbr3X",N="AdvertCard_image__grMGg",y="AdvertCard_cardTitle__8Trld",k="AdvertCard_accent__IoJA7",Z="AdvertCard_descrList__apAl9",w=function(e){var n=e.advert,t=e.openModal,a=n.img,r=n.id,s=n.year,c=n.model,i=n.make,l=n.rentalPrice,o=n.rentalCompany,d=n.type,u=n.address,m=n.accessories,h=n.favs;return(0,j.jsxs)("li",{className:C,title:"".concat(m.join("\n")),children:[(0,j.jsxs)("div",{className:b,children:[(0,j.jsx)("img",{className:N,src:a,alt:"".concat(i,", ").concat(c),loading:"lazy"}),(0,j.jsx)(g,{favs:h||!1,id:r})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("h2",{className:y,children:[(0,j.jsxs)("span",{children:["".concat(i," "),(0,j.jsx)("span",{className:k,children:"".concat(c)}),", ".concat(s)]}),(0,j.jsx)("span",{children:l})]}),(0,j.jsxs)("ul",{className:Z,children:[(0,j.jsx)("li",{children:p(u)}),(0,j.jsx)("li",{children:f(u)}),(0,j.jsx)("li",{children:o}),(0,j.jsx)("li",{children:d}),(0,j.jsx)("li",{children:c}),(0,j.jsx)("li",{children:r}),(0,j.jsx)("li",{children:m[1]})]})]}),(0,j.jsx)("button",{className:"button-primary",type:"button",onClick:function(){return t(r)},children:"Learn more"})]})},M="LoadMoreBtn_buttonContainer__a4TYp",P="LoadMoreBtn_buttonLM__srxkL",S=function(e){var n=e.onClick;return(0,j.jsx)("div",{className:M,children:(0,j.jsx)("button",{className:P,type:"button",onClick:n,children:"Load more"})})},L=t(164),U=t(87);var A=t.p+"static/media/close_btn.f3cbdd58dc25ca7cbb3d242106b56fb9.svg",E="PopUpModal_overlay__6c-o0",T="PopUpModal_modal__3T0Q7",I="PopUpModal_modalCard__aspIv",Q="PopUpModal_closeBtn__LQmYT",z="PopUpModal_modalImage__hI8wv",B="PopUpModal_modalTitle__QarWn",Y="PopUpModal_accent__0WGab",R="PopUpModal_detailsList__AA4sd",W="PopUpModal_desription__EvYiM",F="PopUpModal_featuresTitle__+Mta8",G="PopUpModal_rentalDetails__+4Yru",q=function(e){var n=e.onClose,t=e.id,c=document.querySelector("#modal-root"),o=(0,l.useState)(null),d=(0,s.Z)(o,2),v=d[0],x=d[1],_=(0,l.useState)("pending"),g=(0,s.Z)(_,2),C=g[0],b=g[1];(0,l.useEffect)((function(){(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("pending"),e.prev=1,e.next=4,u(t);case 4:(n=e.sent)&&x(n),n&&b("resolved"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),b("rejected"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[t]),(0,l.useEffect)((function(){return window.addEventListener("keydown",N),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",N),document.body.style.overflow="unset"}}));var N=function(e){"Escape"===e.code&&n()},y=function(e){e.currentTarget===e.target&&n()};if("resolved"===C){var k=v.img,Z=v.make,w=v.model,M=v.functionalities,P=v.mileage,S=v.year,q=v.rentalPrice,D=v.rentalConditions,J=v.address,V=v.description,X=v.fuelConsumption,$=v.engineSize,H=v.rentalCompany,K=v.type,O=v.accessories;return(0,L.createPortal)((0,j.jsx)("div",{className:E,onClick:y,children:(0,j.jsx)("div",{className:T,children:(0,j.jsxs)("div",{className:I,tittle:H,children:[(0,j.jsx)("img",{src:A,alt:"Close Button",className:Q,onClick:y}),(0,j.jsx)("img",{src:k,alt:"".concat(Z,", ").concat(w),className:z,loading:"lazy"}),(0,j.jsx)("h2",{className:B,children:(0,j.jsxs)("span",{children:["".concat(Z," "),(0,j.jsx)("span",{className:Y,children:"".concat(w)}),", ".concat(S)]})}),(0,j.jsxs)("ul",{className:R,children:[(0,j.jsx)("li",{children:p(J)}),(0,j.jsx)("li",{children:f(J)}),(0,j.jsxs)("li",{children:["Id: ",t]}),(0,j.jsxs)("li",{children:["Year: ",S]}),(0,j.jsxs)("li",{children:["Type: ",K]}),(0,j.jsxs)("li",{children:["Fuel Consumption: ",X]}),(0,j.jsxs)("li",{children:["Engine Size: ",$]})]}),(0,j.jsx)("p",{className:W,children:V}),(0,j.jsxs)("h3",{className:F,children:["Accessories and functionalities:"," "]}),(0,j.jsx)("ul",{className:R,children:[].concat((0,a.Z)(M),(0,a.Z)(O)).map((function(e,n){return(0,j.jsx)("li",{children:e},n)}))}),(0,j.jsx)("h3",{className:F,children:"Rental Conditions:"}),(0,j.jsxs)("ul",{className:G,children:[function(e){return e.split("\n").map((function(e,n){return(0,j.jsx)("li",{children:e.includes(":")?(0,j.jsxs)(j.Fragment,{children:[e.split(":")[0],":"," ",(0,j.jsx)("span",{className:Y,children:e.split(":")[1]})," "]}):e},n)}))}(D),(0,j.jsxs)("li",{children:[" ","Mileage:"," ",(0,j.jsx)("span",{className:Y,children:m(P)})," "]}),(0,j.jsxs)("li",{children:[" ","Price:"," ",(0,j.jsx)("span",{className:Y,children:h(q)})," "]})]}),(0,j.jsx)(U.rU,{className:"button-primary button-rental",to:"tel:+380730000000",children:"Rental car"})]})})}),c)}},D="CarsCatalog_cardList__VlSCd",J="CarsCatalog_error__tQC9Q",V=function(){var e=(0,l.useState)(null),n=(0,s.Z)(e,2),t=n[0],c=n[1],o=(0,l.useState)("fullfield"),u=(0,s.Z)(o,2),p=u[0],f=u[1],m=(0,l.useState)(null),h=(0,s.Z)(m,2),v=h[0],x=h[1],_=(0,l.useState)(1),g=(0,s.Z)(_,2),C=g[0],b=g[1],N=(0,l.useState)(!0),y=(0,s.Z)(N,2),k=y[0],Z=y[1],M=(0,l.useState)(!1),P=(0,s.Z)(M,2),L=P[0],U=P[1],A=(0,l.useState)(null),E=(0,s.Z)(A,2),T=E[0],I=E[1];(0,l.useEffect)((function(){(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("pending"),x(null),e.prev=2,e.next=5,d();case 5:(n=e.sent)&&c(n),n&&f("fullfield"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),f("rejected"),x(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()}),[]),(0,l.useEffect)((function(){1!==C&&(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(C);case 3:(n=e.sent)&&c((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(n))})),(null===n||void 0===n?void 0:n.length)<8&&Z(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[C]);var Q=function(e){U(!0),I(e)};return(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{className:"visually-hidden",children:"Car Rantal Catalog"}),"fullfield"===p&&(0,j.jsx)("ul",{className:D,children:t&&t.map((function(e){return(0,j.jsx)(w,{openModal:Q,advert:e},e.id)}))}),k&&(null===t||void 0===t?void 0:t.length)>7&&(0,j.jsx)(S,{onClick:function(){return b((function(e){return e+1}))}}),L&&(0,j.jsx)(q,{id:T,onClose:function(){return U((function(e){return!e}))}}),"rejected"===p&&v&&(0,j.jsxs)("div",{className:J,children:[" ",v," "]})]})}}}]);
//# sourceMappingURL=860.e49aa04a.chunk.js.map